<app-menu-superior></app-menu-superior>
<div class="row">
  <div class="col-sm-3 col-md-2 sidebar">
    <app-sidebar></app-sidebar>
  </div>
  <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <h1 class="page-header">{{title}}</h1>
    <form novalidate [formGroup]="formulario" class="form-horizontal">
      <br /><br />
      <div class="form-group">
        <label class="col-sm-2 control-label" for="id">Id</label>
        <div class="col-sm-8">
          <input class="form-control" type="text" formControlName="id" id="id" />
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label" for="dataInicial">Datas</label>
        <div class="col-sm-7">
          <my-date-picker name="dataInicial" [options]="myDatePickerOptions" formControlName="dataInicial"></my-date-picker>
          <my-date-picker name="dataFinal" [options]="myDatePickerOptions" formControlName="dataFinal"></my-date-picker>
        </div>
        <div class="col-sm-3">
          <button [disabled]="loading" class="btn btn-primary" (click)="listarLogs()">Listar</button>
        </div>
      </div>
    </form>
    <hr />
     <table class="table table-striped" *ngIf="logs != null && logs.length>0">
      <tr>
        <th>ID</th>
        <th>Data</th>
        <th>Message</th>
        <th>Detalhe</th>
      </tr>
      <tbody>
        <tr *ngFor='let item of logs'>
            <td width="35%">{{item.id}}</td>
            <td width="15%">{{item.dateTime | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
            <td width="43%">{{item.exceptionMessage}}</td>
            <td width="7%"><a target="_blank" [routerLink]="['/logging/detail/' + item.id]" class="btn btn-primary">
              <span class="glyphicon glyphicon-search" aria-hidden="true"></span></a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
