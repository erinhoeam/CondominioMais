<app-menu-superior></app-menu-superior>
<div class="row">
  <div class="col-sm-3 col-md-2 sidebar">
    <app-sidebar></app-sidebar>
  </div>
  <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <h1 class="page-header">{{title}}</h1>
    <form novalidate [formGroup]="formulario" (ngSubmit)="save();" >
      <div class="form-horizontal">
        <app-template-form-control-summary [errors]="errors"></app-template-form-control-summary>
        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.nome)">
          <label class="col-md-2 control-label" for="nome">Nome</label>
          <div class="col-md-6">
            <input class="form-control" id="nome" formControlName="nome" type="text" placeholder="Nome (requerido)" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.nome" *ngIf="displayMessage.nome">
            </app-template-control-form-error>
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.cnpj)">
          <label class="col-md-2 control-label" for="cnpj">CNPJ</label>
          <div class="col-md-6">
            <input class="form-control" [textMask]="{mask: maskCnpj, guide: false}" id="cnpj" formControlName="cnpj" type="text" placeholder="CNPJ (requerido)" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.cnpj" *ngIf="displayMessage.cnpj">
            </app-template-control-form-error>
          </div>
        </div>

      <div id="EnderecoPartial" formGroupName="endereco">
        <hr>
        <h3>Endereço</h3>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.cep)">
          <label class="col-md-2 control-label">CEP</label>
          <div class="col-md-10">
            <input (blur)="consultaCEP()" [textMask]="{mask: maskCep, guide: false}" class="form-control" type="text" placeholder="CEP" id="cep" formControlName="cep" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.cep" *ngIf="displayMessage.cep">
            </app-template-control-form-error>
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.logradouro)">
          <label class="col-md-2 control-label">Logradouro</label>
          <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Logradouro" id="logradouro" formControlName="logradouro" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.logradouro" *ngIf="displayMessage.logradouro">
            </app-template-control-form-error>
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.numero)">
          <label class="col-md-2 control-label">Número</label>
          <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Numero" id="numero" formControlName="numero" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.numero" *ngIf="displayMessage.numero">
            </app-template-control-form-error>
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-2 control-label">Complemento</label>
          <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Complemento" formControlName="complemento" />
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.bairro)">
          <label class="col-md-2 control-label">Bairro</label>
          <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Bairro" id="bairro" formControlName="bairro" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.bairro" *ngIf="displayMessage.bairro">
            </app-template-control-form-error>
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.cidade)">
          <label class="col-md-2 control-label">Cidade</label>
          <div class="col-md-10">
            <input class="form-control" type="text" placeholder="Cidade" id="cidade" formControlName="cidade" />
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.cidade" *ngIf="displayMessage.cidade">
            </app-template-control-form-error>            
          </div>
        </div>

        <div class="form-group" [ngClass]="aplicarCssErro(displayMessage.uf)">
          <label class="col-md-2 control-label">Estado</label>
          <div class="col-md-10">
            <select class="form-control" id="uf" formControlName="uf">
              <option *ngFor='let item of estados' value="{{item.uf}}">{{item.nome}}</option>
            </select>
            <app-template-control-form-error [notInline]="false" [msgError]="displayMessage.uf" *ngIf="displayMessage.uf">
            </app-template-control-form-error>              
          </div>
        </div>
      </div>

        <div class="form-group">
          <div class="col-md-4 col-md-offset-2">
            <span><button class="btn btn-success" type="submit" [disabled]="loading">Salvar</button></span>
            &nbsp;<span><a routerLink="/edificio/listar" class="btn btn-primary">Voltar</a></span>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>